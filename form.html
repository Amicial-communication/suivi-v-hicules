<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire V√©hicule</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
        }
        .container {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            max-width: 400px;
        }
        h2 {
            color: #333;
            margin-bottom: 10px;
        }
        .car-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0078d4;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .status {
            color: #666;
            margin-top: 15px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="car-icon">üöó</div>
        <h2>Carnet de Bord V√©hicule</h2>
        <div class="spinner"></div>
        <p class="status">R√©cup√©ration de votre position GPS...</p>
    </div>
    
    <script>
        // R√©cup√©rer les param√®tres de l'URL actuelle (infos du v√©hicule)
        const urlParams = new URLSearchParams(window.location.search);
        
        // URL de base de votre formulaire Microsoft Forms
        const formBaseURL = "https://forms.office.com/Pages/ResponsePage.aspx?id=RDQOv2mwt063A5QHEWv3DDoE5SCcEXpFgCbpAazgK-pURjQ5VDQ0V09RTkNJN0xFWDNSU0tONUM1UiQlQCN0PWcu";
        
        // IDs des champs Microsoft Forms
        const marqueID = "rba6e8b4972eb45a0ab92127c776d3a1d";
        const modeleID = "r861327d4ab1245668b07e0e879e84e23";
        const plaqueID = "r2356d94277aa4c34b2e1ed3c2299b7e8";
        const geoID = "rab7748b8af4c4539a1abe6ac3c9a0693";
        
        // Fonction pour rediriger vers le formulaire
        function redirectToForm(geoData = "") {
            // Construire l'URL compl√®te
            let finalURL = formBaseURL;
            
            // Ajouter les infos du v√©hicule (depuis le QR code)
            const marque = urlParams.get('marque') || '';
            const modele = urlParams.get('modele') || '';
            const plaque = urlParams.get('plaque') || '';
            
            if (marque) finalURL += `&${marqueID}=${encodeURIComponent(marque)}`;
            if (modele) finalURL += `&${modeleID}=${encodeURIComponent(modele)}`;
            if (plaque) finalURL += `&${plaqueID}=${encodeURIComponent(plaque)}`;
            
            // Ajouter la g√©olocalisation
            if (geoData) {
                finalURL += `&${geoID}=${encodeURIComponent(geoData)}`;
            }
            
            // Redirection vers Microsoft Forms
            window.location.href = finalURL;
        }
        
        // R√©cup√©rer la g√©olocalisation
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    const lat = position.coords.latitude.toFixed(6);
                    const lon = position.coords.longitude.toFixed(6);
                    const accuracy = position.coords.accuracy.toFixed(0);
                    
                    // Format : "43.123456, 1.234567 (pr√©cision: 10m)"
                    const geoData = `${lat}, ${lon} (${accuracy}m)`;
                    
                    redirectToForm(geoData);
                },
                function(error) {
                    console.error("Erreur g√©olocalisation:", error.message);
                    // Continuer sans g√©olocalisation
                    redirectToForm("Position non disponible");
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        } else {
            redirectToForm("G√©olocalisation non support√©e");
        }
    </script>
</body>
</html>
```

5. Cliquez sur **"Commit changes"**
6. Attendez 1-2 minutes

## Testez maintenant !

Sur votre t√©l√©phone, ouvrez cette URL :
```
https://amicial-communication.github.io/suivi-v-hicules/form.html?marque=Renault&modele=Clio%20V&plaque=AA-235-56
